{% extends "base.html" %}

{% block content %}

<hgroup>
    <h1>{{ player_character.entity.name }}</h1>
    <h2>HP: {{ hp.hp }}/{{ hp.max_hp }}</h2>
</hgroup>

<p>
    <strong>{{ location }}</strong> - <small>{{ location.area }}</small>
</p>
<p>{{ location.description }}.</p>

{% if nearby_npcs|length > 0 %}
<strong>Nearby Characters:</strong>
<ul>
    {% for character in nearby_npcs %}
        <li>{{ character }}</li>
    {% endfor %}
</ul>
{% endif %}

<strong>Nearby Locations:</strong>
<ul>
    {% for path in paths %}
        <li>
            {{ path.end.name }}
            {% if path.end.area != location.area %}
            <em>- {{ path.end.area }}</em>
            {% endif %}
        </li>
    {% endfor %}
</ul>

{% if message %}
<p><ins>{{ message | linebreaksbr }}</ins></p>
{% endif %}


<form method="post">
    {% csrf_token %}
    <input id="command" name="command" type="text" placeholder="Enter command..." required minlength="2" autocomplete="off" />
    {% if error %}<p style="color:red">{{ error }}</p>{% endif %}
    <input type="submit" />
</form>

<h2>
    Command Help
</h2>
<ul>
    <li>Go to <em>location</em>
    <li>Attack <em>character</em>
</ul>

<script>
    let input = document.getElementById("command");
    input.focus();
    input.select();
</script>
{% endblock %}